!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=1)}([function(t,i){},function(t,i,e){"use strict";e.r(i);var s=e(0),h=e.n(s);e(2);new class{constructor(t){this.canvasId=t,this.resetData()}resetData(){var t=document.documentElement||document.body,i=Math.min(t.clientWidth,t.clientHeight);this.chesses=null,this.rowCount=8,this.colCount=this.rowCount,this.cellWidth=i/this.rowCount,this.width=this.rowCount*this.cellWidth,this.height=this.width,this.R=.4*this.cellWidth,this.positive="black",this.canvas=document.getElementById(this.canvasId),this.ctx=this.canvas.getContext("2d"),this.chessBoard=new h.a(8),this.init()}init(){this.initCanvas(),this.renderUI()}initCanvas(){this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.addEventListener("click",t=>{let i=this.canvas.getBoundingClientRect(),e=Math.floor((t.clientX-i.left)/this.cellWidth),s=Math.floor((t.clientY-i.top)/this.cellWidth);if(console.log(e,s,"click position(X, Y)"),!this.fromRow&&!this.fromCol)return this.fromRow=s,void(this.fromCol=e);this.fromRow=null,this.fromCol=null,this.chessBoard.moveFromTo(this.fromRow,this.fromCol,s,e),console.log(this.chessBoard.data),this.renderUI(),this.positive=function(t){return"black"===t?"white":"white"===t?"black":null}(this.positive),this.renderUI()},!1)}renderUI(){this.ctx.clearRect(0,0,this.width,this.height),this.drawMap(),this.drawChesses(this.chessBoard)}drawDot(t,i,e,s){let h=i*this.cellWidth+this.cellWidth/2,o=t*this.cellWidth+this.cellWidth/2;this.ctx.beginPath(),this.ctx.arc(h,o,e,0,2*Math.PI),this.ctx.closePath(),this.ctx.fillStyle=s,this.ctx.fill()}drawMap(){this.ctx.beginPath(),this.ctx.rect(0,0,this.width,this.height),this.ctx.closePath(),this.ctx.fillStyle="#ffa5e8",this.ctx.fill(),this.ctx.beginPath();for(let t=0;t<this.rowCount;t++)this.ctx.moveTo(0,this.cellWidth*t),this.ctx.lineTo(this.cellWidth*this.rowCount,this.cellWidth*t);this.ctx.stroke(),this.ctx.beginPath();for(let t=0;t<this.colCount;t++)this.ctx.moveTo(this.cellWidth*t,0),this.ctx.lineTo(this.cellWidth*t,this.cellWidth*this.colCount);this.ctx.stroke()}drawChesses(t){this.chesses=t.data;for(let t=0;t<this.chesses.length;t++)for(let i=0;i<this.chesses[t].length;i++)"string"==typeof this.chesses[t][i]&&(this.chesses[t][i]=JSON.parse(this.chesses[t][i])),"black"===this.chesses[t][i].state?this.drawDot(t,i,this.R,"black"):"white"===this.chesses[t][i].state&&this.drawDot(t,i,this.R,"white")}}("blackWhite")},function(t,i){}]);